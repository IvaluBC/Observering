<!DOCTYPE HTML>

<html>
    <head>
        <!--<meta charset="utf-8" /> --->
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <link rel="stylesheet" href="assets/css/Form.css" />
    </head>
    <body>
    
    <body class="homepage is-preload">
        <div id="page-wrapper">

            <!-- Header -->
                <section id="header">
                    <!-- Logo -->
                        <h1><a href="Qaffasissusaa.html">Takusinnaaviuk?</a></h1>
                        <a href="Qaffasissusaa.html"><img src="images/greenland.png" alt="" width="15px"></a> |
                        <a href="QaffasissusaaDA.html"><img src="images/denmark.png" alt="" width="15px"></a>
                    <!-- Nav -->
                    <nav id="nav">
                        <ul>
                            <li><a href="index.html">Saqqaa</a></li>
                            <li class="current"><a href="Qaffasissusaa.html">Qinngusersornermut piareersarneq</a></li>
                            <li><a href="CfATelescope.html">Qinngusersorneq</a></li>
                            <li><a href="Assilissat.html">Assilisat piareersaruk</a></li>
                            <!---<li><a href="Attavissat.html">Attavissat</a></li>--->
                        </ul>
                    </nav>
                
                    <div id="main">
                        <div class="inner">
                            <p> Piareersarnermi ilaavoq misissorusutaq sumiiffinniik ersinnissaa. Sapinngisamik qilammi qullasissumi inissisimasariaqarpoq. Ataani Nuummiit (Kalaallit Nunaat), T&aringrup-miit (Danmark) imaluunniit Boston-miit (USA) takorusutat ersinnersoq.</p>
                            
                            <form class="radiobttn" name="Location_form" id="Location_form">
                              <h4> Suminngaanniik?? </h4>
                                <input type="radio" id="Nuuk" name="Location" value="Nuuk">
                                <label for="Nuuk">Nuuk</label>
                                <input type="radio" id="Tårup" name="Location" value="Tårup">
                                <label for="Tårup">T&aringrup</label>
                                <input type="radio" id="Boston" name="Location" value="Boston">
                                <label for="Boston">Boston</label>
                            </form>
                            
                            </b>
                            
                            <p> Suut takorusippigit? Arlalinnik toqqaasinnaavutit.</p>
                            <form class="checklist" name = "Object" id="Object">
                              <h4>Seqineqarfitsinni:</h4>
                                <input type="checkbox" id="Måne" name="Object" value="Måne">
                                <label for="Måne">M&aringne</label>
                                <input type="checkbox" id="Mars" name="Object" value="Mars">
                                <label for="Mars">Mars</label>
                                <input type="checkbox" id="Jupiter" name="Object" value="Jupiter">
                                <label for="Jupiter">Jupiter</label>
                              <h4>Qilaap Silliani (Galaksitsinni):</h4>
                                <input type="checkbox" id="Håndvægtstågen" name="Object" value="Håndvægtstågen">
                                <label for="Håndvægtstågen">H&aringndv&aeliggtst&aringgen</label>
                                <input type="checkbox" id="Helixtågen" name="Object" value="Helixtågen">
                                <label for="Helixtågen">Helixt&aringgen</label>
                                <input type="checkbox" id="Herkulestågen" name="Object" value="Herkulestågen">
                                <label for="Herkulestågen">Herkulest&aringgen</label>
                                <input type="checkbox" id="Lagunetågen" name="Object" value="Lagunetågen">
                                <label for="Lagunetågen">Lagunet&aringgen</label>
                                <input type="checkbox" id="Messier 15" name="Object" value="Messier 15">
                                <label for="Messier 15"> Messier 15</label>
                                <input type="checkbox" id="Ringtågen" name="Object" value="Ringtågen">
                                <label for="Ringtågen"> Ringt&aringgen</label>
                                <input type="checkbox" id="Sagittarius A" name="Object" value="Sagittarius A">
                                <label for="Sagittarius A"> Sagittarius A</label>
                                <input type="checkbox" id="Trifidtågen" name="Object" value="Trifidtågen">
                                <label for="Trifidtågen"> Trifidt&aringgen </label>
                                <input type="checkbox" id="Ørnetågen" name="Object" value="Ørnetågen">
                                <label for="Ørnetågen"> Ørnet&aringgen</label>
                              <h4>Galaksit allallu:</h4>
                                <input type="checkbox" id="Trekantsgalaksen" name="Object" value="Trekantsgalaksen">
                                <label for="Trekantsgalaksen"> Trekantsgalaksen (Messier 33) </label>
                                <input type="checkbox" id="Messier 58" name="Object" value="Messier 58">
                                <label for="Messier 58"> Messier 58 </label>
                                <input type="checkbox" id="Messier 81" name="Object" value="Messier 81">
                                <label for="Messier 81"> Messier 81</label>
                                <input type="checkbox" id="Messier 82" name="Object" value="Messier 82">
                                <label for="Messier 82"> Messier 82</label>
                                <input type="checkbox" id="Spiralgalaksen" name="Object" value="Spiralgalaksen">
                                <label for="Spiralgalaksen"> Spiralgalaksen Messier 83</label>
                                <input type="checkbox" id="Messier 87" name="Object" value="Messier 87">
                                <label for="Messier 87"> Messier 87</label>
                                <input type="checkbox" id="Messier 95" name="Object" value="Messier 95">
                                <label for="Messier 95"> Messier 95</label>
                                <input type="checkbox" id="Messier 101" name="Object" value="Messier 101">
                                <label for="Messier 101"> Messier 101</label>
                                <input type="checkbox" id="NGC 4013" name="Object" value="NGC 4013">
                                <label for="NGC 4013"> NGC 4013</label>
                                <input type="checkbox" id="NGC 4124" name="Object" value="NGC 4124">
                                <label for="NGC 4124"> NGC 4124</label>
                                <input type="checkbox" id="Andromedagalaksen" name="Object" value="Andromedagalaksen">
                                <label for="Andromedagalaksen"> Andromedagalaksen</label>
                                <input type="checkbox" id="Malstrømsgalaksen" name="Object" value="Malstrømsgalaksen">
                                <label for="Malstrømsgalaksen"> Malstr&oslashmsgalaksen</label>
                            </form>
                            
                            <form class="checklist" name = "Object" id="Object">
                            <h4>Ulloq mississuiffissaq:</h4>
                            <label for="dob" class="formbold-form-label"> </label>
                            <input type="date" name="dob" id="dob"  class="formbold-form-input" />
                            </form>
                            <div>
                                <input type="button" value="Takujuk" onclick="getValue()"/>
                            </div>
                            <div>
                                <p id="total_text"></p>
                            </div>
                        </div>
                    </div>
                </section>
            </body>
                <!-- Footer -->
                <section id="footer">
                <div id="copyright" class="container">
                        <ul class="links">
                            <li>&copy; Ivalu Barlach Christensen | Design: <a href="http://html5up.net">HTML5 UP</a> | Icons made by <a href="https://www.flaticon.com/authors/freepik" title="Freepik" target="_blank">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon" target="_blank">www.flaticon.com</a> </br></li>
                        </ul>
                </div>
                </section>
        </div>
                
        <!-- Scripts -->
            <script src="assets/js/jquery.min.js"></script>
            <script src="assets/js/jquery.dropotron.min.js"></script>
            <script src="assets/js/browser.min.js"></script>
            <script src="assets/js/breakpoints.min.js"></script>
            <script src="assets/js/util.js"></script>
            <script src="assets/js/main.js"></script>
            <script>
                
                function getValue() {
                    var Location = document.querySelector('input[name="Location"]:checked').value;
                    //!!!!Location!!!!//
                    //Longitude of Birmingham UK
                    var long = 0;
                    //latitude in degrees, Birmingham UK
                    var lat = 0;
                    if(Location === 'Nuuk'){long=-51.7373};
                    if(Location === 'Nuuk'){lat=64.1743};
                    if(Location === 'Tårup'){long=10.3402};
                    if(Location === 'Tårup'){lat =55.4071};
                    if(Location === 'Boston'){long =-71.0589};
                    if(Location === 'Boston'){lat =42.3601};
                    
                    
                    
                    //!!!!Object!!!!//
                    var checkboxes = document.getElementsByName('Object');
                    var all_objects =[];
                    var all_radecs = [];
                    for (var i = 0; i < checkboxes.length; i++) {
                        if (checkboxes[i].checked) {
                            all_objects.push(checkboxes[i].value);
                            if(checkboxes[i].value==="Andromedagalaksen"){
                                all_radecs.push("0h42m44s +41d16m9s")
                            }
                            
                            if(checkboxes[i].value==="Håndvægtstågen"){
                                all_radecs.push("19h59m35s +22d43m16s")
                            }
                            
                            if(checkboxes[i].value==="Helixtågen"){
                                all_radecs.push("22h29m39s -20d50m14s")
                            }
                            
                            if(checkboxes[i].value==="Herkulestågen"){
                                all_radecs.push("16h44m29.5s +23d47m59s")
                            }
                            
                            if(checkboxes[i].value==="Lagunetågen"){
                                all_radecs.push("18h3m37s -24d23m12s")
                            }
                            
                            if(checkboxes[i].value==="Messier 15"){
                                all_radecs.push("21h29m58s +12d10m1s")
                            }
                            
                            if(checkboxes[i].value==="Messier 58"){
                                all_radecs.push("12h37m43.5s +11d49m05s")
                            }
                            
                            if(checkboxes[i].value==="Messier 81"){
                                all_radecs.push("9h55m33s +69d3m55s")
                            }
                            
                            if(checkboxes[i].value==="Messier 82"){
                                all_radecs.push("9h55m52s +69d40m47s")
                            }
                            
                            if(checkboxes[i].value==="Messier 87"){
                                all_radecs.push("12h30m49s +12d23m28s")
                            }

                            if(checkboxes[i].value==="Messier 95"){
                                all_radecs.push("10h43m57.7s +11d42m14s")
                            }
                            
                            if(checkboxes[i].value==="Messier 101"){
                                all_radecs.push("14h3m13s +54d20m57s")
                            }
                            
                            if(checkboxes[i].value==="Malstrømsgalaksen"){
                                all_radecs.push("13h29m53s +47d11m43s")
                            }
                            
                            if(checkboxes[i].value==="NGC 4013"){
                                all_radecs.push("11h58m31.13s +43d56m50.1s")
                            }
                            
                            if(checkboxes[i].value==="NGC 4124"){
                                all_radecs.push("12h15m39.2s +36d19m37s")
                            }
                            
                            if(checkboxes[i].value==="Ørnetågen"){
                                all_radecs.push("18h18m48s -13d49m0s")
                            }
                            
                            if(checkboxes[i].value==="Ringtågen"){
                                all_radecs.push("18h53m35s +33d1m45s")
                            }
                            
                            
                            if(checkboxes[i].value==="Sagittarius A"){
                                all_radecs.push("17h45m40s -29d0m28s")
                            }
                            
                            if(checkboxes[i].value==="Spiralgalaksen"){
                                all_radecs.push("13h37m00.919s −29d51m56.74s")
                            }
                            
                            if(checkboxes[i].value==="Trekantsgalaksen"){
                                all_radecs.push("1h33m50s +30d39m37s")
                            }
                            
                            if(checkboxes[i].value==="Trifidtågen"){
                                all_radecs.push("18h2m23s -23d1m48s")
                            }
                            }
                        }
                    
                    //Time stuff
                    var date = document.getElementById("dob").value;
                    var utcoffset = 0
                    if(Location==='Nuuk'){var utcoffset= 2};
                    if(Location==='Tårup'){var utcoffset= 6};
                    if(Location==='Boston'){var utcoffset= 0};
                    
                    //var UT = 0.0 - utcoffset;
                    var UTC_string = ["21:00","21:30","22:00","22:30","23:00","23:30","00:00","00:30","01:00","01:30","02:00","02:30","03:00","03:30","04:00","04:30","05:00"]
                    var UTC = [21.0,21.5,22.0,22.5,23.0,23.5,0.0,0.5,1.0,1.5,2.0,2.5,3.0,4.0,4.5,5.0]
                    var UT = []
                    for (var i = 0; i < UTC.length; i++) {
                        var t = UTC[i]-utcoffset
                        if(t<0){t +=24}
                        UT.push(t)
                    }
                    
                    let total_text ="<h2>"+ Location + " </br>" + date + "</h2>"+"<ul>";
                    //!!!!Date!!!!//
                    var J2000 = new Date("01/01/2000 00:00");
                    
                    
                    var Difference_In_Days = []
                    for (var i = 0; i < UTC_string.length; i++) {
                        var date2 = new Date(date+" "+UTC_string[i]);
                        var Difference_In_Time = date2.getTime() - J2000.getTime();
                        var diff_days = Difference_In_Time / (1000 * 3600 * 24);
                        Difference_In_Days.push(diff_days);
                    }
                    
                    //Calculating the elevation of all sources at 21:00 UTC
                    var Alt_maximum = [];
                    var Alt_maximum_time = [];
                    for (var i = 0; i < all_radecs.length; i++) {
                        var Alt_source = [];
                        Obj = all_objects[i]
                        RA = RAtodegree(all_radecs[i].split(' ')[0]);
                        dec = Dectodegree(all_radecs[i].split(' ')[1]);
                        //In radians
                        var LAT=toRadians(lat);
                        var DEC=toRadians(dec);
                        
                        for (var j = 0; j < Difference_In_Days.length; j++) {
                            var LST = 100.46 + 0.985647 * Difference_In_Days[j] + long + 15*UT[j];
                            if (LST<0){LST+=360};
                            var ha= LST-RA;
                            if (ha<0){ha+=360};
                            var HA = toRadians(ha)
                            
                            var firstpart = Math.sin(DEC)*Math.sin(LAT);
                            var secondpart = Math.cos(DEC)*Math.cos(LAT)*Math.cos(HA);
                            var sinAlt = firstpart +secondpart;
                            var Alt = Math.asin(sinAlt);
                            Alt_source.push(toDegrees(Alt).toFixed(1));
                        };
                        
                        var observable = timesabovehorizon(UTC_string, Alt_source);
                        var max_degree = Alt_source.filter(abovehorizon);
                        if(max_degree.length>=1){
                            total_text += "</br><h7 class=\"approved\">" + Obj + ": "+ observable + "</h7>";
                        };
                        if(max_degree.length==0){
                            total_text += "</br><h7 class=\"not_approved\">" + Obj + "</h7>";
                        };
                    
                    }
                    total_text += "</ul>";
                    document.getElementById("total_text").innerHTML = total_text;
                    
                }
                
                
                function toRadians(angle) {
                  return angle * (Math.PI / 180);
                }
                
                
                function abovehorizon(array) {
                  return array >= 30;
                }
                
                function timesabovehorizon(UTC, array){
                    var hours = []
                    var index = []
                    for (var i = 0; i < array.length; i++) {
                        if(array[i]>=30){
                            hours.push(UTC[i])
                            index.push(i)
                        }
                    }
                    var time_range = ""
                    if(index.length==1){
                        time_range += hours + "-" + UTC[index[0]+1]
                    }
                    if(index.length>1){
                        time_range += hours[0] + "-" + UTC[index[index.length-1]]
                    }
                    
                    return time_range
                    
                }
                
                
                
                function toDegrees(angle) {
                  return angle * (180 / Math.PI);
                }
                
                function RAtodegree(RA) {
                    hours = parseInt(RA.split("h")[0]);
                    mins = parseInt(RA.split("h")[1].split("m")[0]);
                    secs = parseInt(RA.split("h")[1].split("m")[1].split("s")[0]);
                    todegree = hours + (mins / 60) + (secs / 3600)
                    return todegree
                }
                function Dectodegree(RA) {
                    hours = parseInt(RA.split("d")[0]);
                    mins = parseInt(RA.split("d")[1].split("m")[0]);
                    secs = parseInt(RA.split("d")[1].split("m")[1].split("s")[0]);
                    todegree = hours + (mins / 60) + (secs / 3600)
                    return todegree
                }
                
                
            </script>
            
    </body>
</html>


